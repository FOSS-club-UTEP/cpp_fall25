Snake Memoryâ€” C++ + ASan Workshop
=========================================

This project is a small C++ / raylib game used to memory management debugging. 

-----------------------------------------
Overview
-----------------------------------------
The game is a simple Snake clone with two versions:

  Buggy - Includes intentional memory leaks and out-of-bounds writes 
          for students to diagnose using ASan and leak tools.

  Fixed - Clean version showing how to correctly manage heap memory 
          with delete[], RAII, and STL containers.


-----------------------------------------
Setup Instructions
-----------------------------------------
macOS (The Goated OS):
  xcode-select --install
  clang --version

  Assuming You have homebrew
  brew install raylib llvm
  export PATH=/opt/homebrew/opt/llvm/bin:$PATH

Windows:
	CMake:
		https://cmake.org/download/

	mingw (GCC 15.2.0):
		https://winlibs.com/
		move MinGW to `C:\Program Files\mingw32`
		Add `C:\Program Files\mingw32` to Environment Variables Path

  run build instructions


-----------------------------------------
Building the Project
-----------------------------------------
Configure and build:
  cmake -S . -B build -DCMAKE_BUILD_TYPE=Debug
  cmake --build build -j
	cmake -E copy utep_fight_song.mp3 .\build\Debug\snake


-----------------------------------------
Switching Between Versions
-----------------------------------------
In CMakeLists.txt, edit the source line:
  set(SOURCE main_buggy.cpp)
or:
  set(SOURCE main_fixed.cpp)

-----------------------------------------
Running the Executable
-----------------------------------------
macOS / Linux:
  ./build/snake
  ./build-release/snake    # release build

Windows (PowerShell or CMD):
  .\build\Debug\snake.exe
  .\build-release\Release\snake.exe




-----------------------------------------
Key Learning Outcomes
-----------------------------------------
- Detecting heap-buffer-overflows with AddressSanitizer
- Identifying memory leaks and ownership problems
- Understanding RAII and how destructors prevent leaks
- Using STL containers (std::vector, std::unique_ptr) instead of raw new/delete


-----------------------------------------
Controls
-----------------------------------------
Arrow keys - Move snake
ESC - Exit game


-----------------------------------------
Credit
-----------------------------------------
Created for C++ memory-debugging workshops.
Dependencies: raylib and LLVM AddressSanitizer


-----------------------------------------
Leaks : This will only work on mac sorry 
-----------------------------------------

clang++ -std=c++20 -g -O0 main.cpp -o snake_nosan $(pkg-config --cflags --libs raylib)

MallocStackLogging=1 leaks -quiet -atExit -- ./snake_nosan
